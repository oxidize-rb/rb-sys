---
id: getting-started
title: Installation & Setup
sidebar_position: 2
keywords: [install, setup, prerequisites, ruby, rust, rb-sys]
description: Install and configure everything you need to build Ruby extensions with Rust. Platform-specific guides for macOS, Linux, and Windows.
---

# Installation & Setup

Get your development environment ready to build Ruby extensions with Rust. This guide covers all platforms with automated setup scripts.

## Quick Setup Script

Run this script to check and install everything automatically:

```bash
# Download and run the setup script
curl -sSL https://raw.githubusercontent.com/oxidize-rb/rb-sys/main/contrib/setup.sh | bash

# Or if you prefer wget:
wget -qO- https://raw.githubusercontent.com/oxidize-rb/rb-sys/main/contrib/setup.sh | bash
```

<details>
<summary>üîç What does this script do?</summary>

The script:
1. Checks for Ruby (installs if missing)
2. Checks for Rust (installs if missing)
3. Installs required system dependencies
4. Installs the rb_sys gem
5. Verifies everything works

</details>

## Manual Installation

Prefer to install manually? Here's what you need:

### 1Ô∏è‚É£ Ruby Setup

<tabs>
<tabItem value="macos" label="macOS" default>

```bash
# Using Homebrew (recommended)
brew install ruby

# Or using rbenv
brew install rbenv ruby-build
rbenv install 3.3.0
rbenv global 3.3.0

# Or using asdf
asdf plugin add ruby
asdf install ruby 3.3.0
asdf global ruby 3.3.0
```

</tabItem>
<tabItem value="linux" label="Linux">

```bash
# Ubuntu/Debian
sudo apt update
sudo apt install ruby-full ruby-dev

# Fedora/RHEL/CentOS
sudo dnf install ruby ruby-devel

# Arch Linux
sudo pacman -S ruby

# Or using rbenv (all distros)
git clone https://github.com/rbenv/rbenv.git ~/.rbenv
echo 'export PATH="$HOME/.rbenv/bin:$PATH"' >> ~/.bashrc
echo 'eval "$(rbenv init -)"' >> ~/.bashrc
exec $SHELL
```

</tabItem>
<tabItem value="windows" label="Windows">

```powershell
# Using RubyInstaller (recommended)
# Download from: https://rubyinstaller.org/
# Choose "Ruby+Devkit" version

# Or using Chocolatey
choco install ruby

# Or using Scoop
scoop install ruby
```

</tabItem>
</tabs>

### 2Ô∏è‚É£ Rust Setup

<tabs>
<tabItem value="all" label="All Platforms" default>

```bash
# Official Rust installer (recommended for all platforms)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# Follow the prompts and restart your terminal
# Verify installation:
rustc --version
cargo --version
```

</tabItem>
<tabItem value="macos-brew" label="macOS (Homebrew)">

```bash
# Alternative: Install via Homebrew
brew install rust

# Note: rustup is preferred for easier toolchain management
```

</tabItem>
<tabItem value="windows" label="Windows">

```powershell
# Download installer from https://rustup.rs
# Or use Chocolatey:
choco install rust

# Or use Scoop:
scoop install rust
```

</tabItem>
</tabs>

### 3Ô∏è‚É£ System Dependencies

<tabs>
<tabItem value="macos" label="macOS" default>

```bash
# Install Xcode Command Line Tools
xcode-select --install

# Install LLVM (for bindgen)
brew install llvm

# Add to your shell profile (~/.zshrc or ~/.bash_profile):
echo 'export PATH="/opt/homebrew/opt/llvm/bin:$PATH"' >> ~/.zshrc
```

</tabItem>
<tabItem value="linux" label="Linux">

```bash
# Ubuntu/Debian
sudo apt install build-essential libclang-dev pkg-config

# Fedora/RHEL/CentOS
sudo dnf group install "Development Tools"
sudo dnf install clang-devel pkgconfig

# Arch Linux
sudo pacman -S base-devel clang pkg-config

# Alpine Linux
apk add build-base clang-dev pkgconfig
```

</tabItem>
<tabItem value="windows" label="Windows">

```powershell
# Install Visual Studio Build Tools
# Download from: https://visualstudio.microsoft.com/downloads/
# Select "Desktop development with C++"

# Or minimal installation via Chocolatey:
choco install visualstudio2022buildtools
choco install visualstudio2022-workload-vctools
```

</tabItem>
</tabs>

### 4Ô∏è‚É£ Install rb_sys

```bash
# Install globally
gem install rb_sys

# Or add to your Gemfile
bundle add rb_sys --group development
```

## ‚úÖ Verify Your Setup

Run our verification script to ensure everything is properly installed:

```bash
# Check all dependencies
ruby -e "$(curl -fsSL https://raw.githubusercontent.com/oxidize-rb/rb-sys/main/contrib/check-setup.rb)"
```

You should see output like:

```
‚úÖ Ruby 3.3.0 installed
‚úÖ Rust 1.75.0 installed
‚úÖ Cargo in PATH
‚úÖ C compiler found
‚úÖ libclang available
‚úÖ rb_sys gem installed

üéâ All dependencies satisfied! You're ready to build Ruby extensions with Rust.
```

### Manual Verification

Alternatively, check each component manually:

```bash
# Check Ruby
ruby --version  # Should be 2.6+

# Check Rust
rustc --version  # Should be 1.65+
cargo --version

# Check C compiler
cc --version     # macOS/Linux
cl               # Windows (in Developer Command Prompt)

# Check rb_sys
gem list rb_sys  # Should show rb_sys
```

## üîß Common Issues & Solutions

<details>
<summary><strong>Error: "libclang not found"</strong></summary>

**Solution 1:** Add to your Gemfile:
```ruby
gem "libclang", "~> 14.0"
```

**Solution 2:** Install system libclang:
```bash
# macOS
brew install llvm

# Ubuntu/Debian
sudo apt install libclang-dev

# Fedora
sudo dnf install clang-devel
```

</details>

<details>
<summary><strong>Error: "Ruby headers not found"</strong></summary>

**Solution:** Install Ruby development package:
```bash
# Ubuntu/Debian
sudo apt install ruby-dev

# Fedora/RHEL
sudo dnf install ruby-devel

# macOS with Homebrew Ruby
brew reinstall ruby
```

</details>

<details>
<summary><strong>Error: "cargo not found"</strong></summary>

**Solution:** Add Cargo to your PATH:
```bash
# Add to ~/.bashrc or ~/.zshrc
export PATH="$HOME/.cargo/bin:$PATH"

# Reload shell
source ~/.bashrc  # or ~/.zshrc
```

</details>

<details>
<summary><strong>Windows: "error C2039: 'sem_t': is not a member"</strong></summary>

**Solution:** Use stable-x86_64-pc-windows-gnu toolchain:
```bash
rustup default stable-x86_64-pc-windows-gnu
```

</details>

## üê≥ Docker Option

Prefer containers? Use our pre-configured Docker image:

```bash
# Pull the official rb-sys development image
docker pull ghcr.io/oxidize-rb/rb-sys-dev:latest

# Run with your project mounted
docker run -it -v $(pwd):/workspace ghcr.io/oxidize-rb/rb-sys-dev:latest

# Everything is pre-installed and ready to use!
```

<details>
<summary>Dockerfile for custom setup</summary>

```dockerfile
FROM rust:latest

# Install Ruby and dependencies
RUN apt-get update && apt-get install -y \
    ruby-full \
    ruby-dev \
    libclang-dev \
    && rm -rf /var/lib/apt/lists/*

# Install rb_sys
RUN gem install rb_sys

WORKDIR /workspace
```

</details>

## Platform-Specific Notes

### macOS
- Apple Silicon (M1/M2/M3) is fully supported
- Xcode Command Line Tools required (not full Xcode)
- Use Homebrew for easiest dependency management

### Linux
- Most distributions work out of the box
- Ensure you have glibc 2.17+ (check with `ldd --version`)
- Alpine Linux users: you may need additional musl compatibility

### Windows
- Use RubyInstaller with DevKit for best results
- MSYS2 toolchain is automatically configured
- WSL2 is fully supported (follow Linux instructions)

## üéØ Next Steps

Now that your environment is ready:

1. **[üöÄ Quick Start Guide](quick-start)** - Build your first extension in 15 minutes
2. **[üìö Core Concepts](core-concepts)** - Understand how rb-sys works
3. **[üî® Project Setup](project-setup)** - Structure your gem properly
4. **[üí° Examples](examples)** - Learn from real-world code

---

<div className="success-message">

### üéâ Congratulations!

Your development environment is ready. Let's build something amazing!

[**Continue to Quick Start ‚Üí**](quick-start)

</div>