<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-build-process" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">The Build Process | oxidize.rb</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://oxidize-rb.org/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://oxidize-rb.org/img/social-card.png"><meta data-rh="true" property="og:url" content="https://oxidize-rb.org/docs/build-process"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="The Build Process | oxidize.rb"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://oxidize-rb.org/docs/build-process"><link data-rh="true" rel="alternate" href="https://oxidize-rb.org/docs/build-process" hreflang="en"><link data-rh="true" rel="alternate" href="https://oxidize-rb.org/docs/build-process" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.3a8f2e98.css">
<script src="/assets/js/runtime~main.e3cb2a39.js" defer="defer"></script>
<script src="/assets/js/main.bbfa9ded.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo-oxidize-rb.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" aria-label="oxidize.rb home page" href="/"><img src="/img/logo-oxidize-rb.svg" alt="oxidize.rb Logo" width="32" height="32"><span class="navbar__title">oxidize.rb</span></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/oxidize-rb/rb-sys" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div></nav><div class="main-wrapper mainWrapper_eExm"><main class="mainContent_VsED"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_mhZE"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Ruby + Rust = ❤️</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/getting-started">🚀 Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started">Installation &amp; Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quick-start">🚀 Quick Start (15 minutes)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/core-concepts">Core Concepts</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/project-setup">🔨 Building Extensions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/memory-management">🧠 Memory &amp; Performance</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/memory-management">Memory Management &amp; Safety</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/build-process">The Build Process</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/examples">🌍 Real-World Patterns</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/testing">🧑‍💻 Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/cross-platform">📦 Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/api-reference/rb-sys-features">📖 Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/cookbook">📚 Resources</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contributing">Contributing</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><div class="theme-doc-markdown markdown"><header><h1>The Build Process</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>This section explains how rb-sys compiles your Rust extension, which can help with debugging issues and optimizing builds.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-rb-sys-compiles-your-code">How rb-sys Compiles Your Code<a href="#how-rb-sys-compiles-your-code" class="hash-link" aria-label="Direct link to How rb-sys Compiles Your Code" title="Direct link to How rb-sys Compiles Your Code">​</a></h2>
<p>When you run <code>bundle exec rake compile</code>, several steps happen in sequence:</p>
<ol>
<li>Ruby&#x27;s <code>mkmf</code> system reads your <code>extconf.rb</code> file</li>
<li>The <code>create_rust_makefile</code> function generates a Makefile</li>
<li>Cargo builds your Rust code as a dynamic library</li>
<li>The resulting binary is copied to your gem&#x27;s lib directory</li>
</ol>
<p>Let&#x27;s examine each step in detail.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-role-of-extconfrb">The Role of extconf.rb<a href="#the-role-of-extconfrb" class="hash-link" aria-label="Direct link to The Role of extconf.rb" title="Direct link to The Role of extconf.rb">​</a></h2>
<p>The <code>extconf.rb</code> file is the entry point for Ruby&#x27;s native extension system. For rb-sys projects, it typically looks
like this:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic"># extconf.rb</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(200, 85%, 65%)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;mkmf&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(200, 85%, 65%)">require</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;rb_sys/mkmf&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">create_rust_makefile</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">(</span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;my_gem/my_gem&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>create_rust_makefile</code> function:</p>
<ol>
<li>Sets up the environment for compiling Rust code</li>
<li>Generates a Makefile with appropriate Cargo commands</li>
<li>Configures where the compiled library should be placed</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options">Configuration Options<a href="#configuration-options" class="hash-link" aria-label="Direct link to Configuration Options" title="Direct link to Configuration Options">​</a></h3>
<p>You can customize the build process by passing a block to <code>create_rust_makefile</code>:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">create_rust_makefile</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">(</span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;my_gem/my_gem&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(200, 85%, 65%)">do</span><span class="token plain"> </span><span class="token operator" style="color:hsl(220, 10%, 65%)">|</span><span class="token plain">config</span><span class="token operator" style="color:hsl(220, 10%, 65%)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic"># Set cargo profile (defaults to ENV[&quot;RB_SYS_CARGO_PROFILE&quot;] or :dev)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  config</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token plain">profile </span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain"> </span><span class="token constant" style="color:hsl(5, 65%, 75%)">ENV</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token plain">fetch</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">(</span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;MY_GEM_PROFILE&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">,</span><span class="token plain"> </span><span class="token symbol" style="color:hsl(5, 65%, 75%)">:dev</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">)</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token plain">to_sym</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic"># Enable specific cargo features</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  config</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token plain">features </span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">[</span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;feature1&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">,</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;feature2&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic"># Set environment variables for cargo</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  config</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token plain">env </span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">{</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;SOME_VAR&quot;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(220, 10%, 65%)">=&gt;</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;value&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic"># Specify extra Rust flags</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  config</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token plain">extra_rustflags </span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">[</span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;--cfg=feature=\&quot;custom_feature\&quot;&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic"># Clean up target directory after installation to reduce gem size</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  config</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token plain">clean_after_install </span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(5, 65%, 75%)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic"># Force installation of Rust toolchain if not present</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  config</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token plain">force_install_rust_toolchain </span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;stable&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic"># Auto-install Rust toolchain during gem installation</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  config</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token plain">auto_install_rust_toolchain </span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(5, 65%, 75%)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(200, 85%, 65%)">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For a complete reference of all available configuration options, see the
<a href="/docs/api-reference/rb-sys-gem-config">rb_sys Gem Configuration</a> documentation.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variables">Environment Variables<a href="#environment-variables" class="hash-link" aria-label="Direct link to Environment Variables" title="Direct link to Environment Variables">​</a></h2>
<p>Several environment variables affect the build process:</p>
<table><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>RB_SYS_CARGO_PROFILE</code></td><td>Cargo profile to use (<code>dev</code> or <code>release</code>)</td><td><code>dev</code></td></tr><tr><td><code>RB_SYS_CARGO_FEATURES</code></td><td>Comma-separated list of features to enable</td><td>None</td></tr><tr><td><code>RB_SYS_CARGO_ARGS</code></td><td>Additional arguments to pass to cargo</td><td>None</td></tr></tbody></table>
<p>For example:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token assign-left variable" style="color:hsl(5, 65%, 75%)">RB_SYS_CARGO_PROFILE</span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain">release bundle </span><span class="token builtin class-name">exec</span><span class="token plain"> rake compile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="debugging-the-build-process">Debugging the Build Process<a href="#debugging-the-build-process" class="hash-link" aria-label="Direct link to Debugging the Build Process" title="Direct link to Debugging the Build Process">​</a></h2>
<p>When things go wrong, you can debug the build process:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-enable-verbose-output">1. Enable Verbose Output<a href="#1-enable-verbose-output" class="hash-link" aria-label="Direct link to 1. Enable Verbose Output" title="Direct link to 1. Enable Verbose Output">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">bundle </span><span class="token builtin class-name">exec</span><span class="token plain"> rake compile </span><span class="token assign-left variable" style="color:hsl(5, 65%, 75%)">VERBOSE</span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token number" style="color:hsl(5, 65%, 75%)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-inspect-generated-files">2. Inspect Generated Files<a href="#2-inspect-generated-files" class="hash-link" aria-label="Direct link to 2. Inspect Generated Files" title="Direct link to 2. Inspect Generated Files">​</a></h3>
<p>Look at the generated Makefile and Cargo configuration:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token function" style="color:hsl(5, 65%, 65%)">cat</span><span class="token plain"> ext/my_gem/Makefile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-run-cargo-directly">3. Run Cargo Directly<a href="#3-run-cargo-directly" class="hash-link" aria-label="Direct link to 3. Run Cargo Directly" title="Direct link to 3. Run Cargo Directly">​</a></h3>
<p>You can run Cargo commands directly in the extension directory:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token builtin class-name">cd</span><span class="token plain"> ext/my_gem</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain"></span><span class="token function" style="color:hsl(5, 65%, 65%)">cargo</span><span class="token plain"> build </span><span class="token parameter variable" style="color:hsl(5, 65%, 75%)">-v</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimizing-the-build">Optimizing the Build<a href="#optimizing-the-build" class="hash-link" aria-label="Direct link to Optimizing the Build" title="Direct link to Optimizing the Build">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="development-vs-release-builds">Development vs. Release Builds<a href="#development-vs-release-builds" class="hash-link" aria-label="Direct link to Development vs. Release Builds" title="Direct link to Development vs. Release Builds">​</a></h3>
<p>During development, use the default dev profile for faster compilation:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token assign-left variable" style="color:hsl(5, 65%, 75%)">RB_SYS_CARGO_PROFILE</span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain">dev bundle </span><span class="token builtin class-name">exec</span><span class="token plain"> rake compile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For production releases, use the release profile for optimized performance:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token assign-left variable" style="color:hsl(5, 65%, 75%)">RB_SYS_CARGO_PROFILE</span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain">release bundle </span><span class="token builtin class-name">exec</span><span class="token plain"> rake compile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cargo-configuration">Cargo Configuration<a href="#cargo-configuration" class="hash-link" aria-label="Direct link to Cargo Configuration" title="Direct link to Cargo Configuration">​</a></h3>
<p>In your Cargo.toml, you can customize optimization levels:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">[profile.release]</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">lto = true             # Link-time optimization</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">opt-level = 3          # Maximum optimization</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">codegen-units = 1      # Optimize for size at the expense of compile time</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-scripts-buildrs">Build Scripts (build.rs)<a href="#build-scripts-buildrs" class="hash-link" aria-label="Direct link to Build Scripts (build.rs)" title="Direct link to Build Scripts (build.rs)">​</a></h3>
<p>For advanced customization, you can use Rust&#x27;s build script feature:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic">// ext/my_gem/build.rs</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(200, 85%, 65%)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:hsl(5, 65%, 65%)">main</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">(</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic">// Detect features at build time</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(200, 85%, 65%)">if</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">std</span><span class="token namespace punctuation" style="opacity:0.7;color:hsl(220, 10%, 65%)">::</span><span class="token namespace" style="opacity:0.7">env</span><span class="token namespace punctuation" style="opacity:0.7;color:hsl(220, 10%, 65%)">::</span><span class="token function" style="color:hsl(5, 65%, 65%)">var</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">(</span><span class="token string" style="color:hsl(28, 60%, 70%)">&quot;TARGET&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">)</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token function" style="color:hsl(5, 65%, 65%)">unwrap_or_default</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">(</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">)</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token function" style="color:hsl(5, 65%, 65%)">contains</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">(</span><span class="token string" style="color:hsl(28, 60%, 70%)">&quot;windows&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">        </span><span class="token macro property" style="color:hsl(5, 65%, 75%)">println!</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">(</span><span class="token string" style="color:hsl(28, 60%, 70%)">&quot;cargo:rustc-cfg=feature=\&quot;windows\&quot;&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">)</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic">// Link to system libraries if needed</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token macro property" style="color:hsl(5, 65%, 75%)">println!</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">(</span><span class="token string" style="color:hsl(28, 60%, 70%)">&quot;cargo:rustc-link-lib=dylib=ssl&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">)</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic">// Rerun if specific files change</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token macro property" style="color:hsl(5, 65%, 75%)">println!</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">(</span><span class="token string" style="color:hsl(28, 60%, 70%)">&quot;cargo:rerun-if-changed=src/native_code.h&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">)</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Remember to add this to your <code>Cargo.toml</code>:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain"># ext/my_gem/Cargo.toml</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">[package]</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain"># ...</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">build = &quot;build.rs&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cross-compilation-with-rb-sys-dock">Cross-Compilation with rb-sys-dock<a href="#cross-compilation-with-rb-sys-dock" class="hash-link" aria-label="Direct link to Cross-Compilation with rb-sys-dock" title="Direct link to Cross-Compilation with rb-sys-dock">​</a></h2>
<p>rb-sys can cross-compile extensions using <code>rb-sys-dock</code>. This tool runs your build in Docker containers configured for different platforms.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-cross-compilation">Basic Cross-Compilation<a href="#basic-cross-compilation" class="hash-link" aria-label="Direct link to Basic Cross-Compilation" title="Direct link to Basic Cross-Compilation">​</a></h3>
<p>To set up cross-compilation with the <code>RbSys::ExtensionTask</code>:</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic"># Rakefile</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">RbSys</span><span class="token double-colon punctuation" style="color:hsl(220, 10%, 65%)">::</span><span class="token class-name">ExtensionTask</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token keyword" style="color:hsl(200, 85%, 65%)">new</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">(</span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;my_gem&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">,</span><span class="token plain"> </span><span class="token constant" style="color:hsl(5, 65%, 75%)">GEMSPEC</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(200, 85%, 65%)">do</span><span class="token plain"> </span><span class="token operator" style="color:hsl(220, 10%, 65%)">|</span><span class="token plain">ext</span><span class="token operator" style="color:hsl(220, 10%, 65%)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  ext</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token plain">lib_dir </span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&quot;lib/my_gem&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  ext</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token plain">cross_compile </span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(5, 65%, 75%)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  ext</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">.</span><span class="token plain">cross_platform </span><span class="token operator" style="color:hsl(220, 10%, 65%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">[</span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&#x27;x86_64-linux&#x27;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">,</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&#x27;x86_64-darwin&#x27;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">,</span><span class="token plain"> </span><span class="token string-literal string" style="color:hsl(28, 60%, 70%)">&#x27;arm64-darwin&#x27;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(200, 85%, 65%)">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then you can cross-compile with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">bundle </span><span class="token builtin class-name">exec</span><span class="token plain"> rake native:my_gem:x86_64-linux</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-rb-sys-dock-directly">Using rb-sys-dock Directly<a href="#using-rb-sys-dock-directly" class="hash-link" aria-label="Direct link to Using rb-sys-dock Directly" title="Direct link to Using rb-sys-dock Directly">​</a></h3>
<p>You can also use rb-sys-dock directly:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">bundle </span><span class="token builtin class-name">exec</span><span class="token plain"> rb-sys-dock </span><span class="token parameter variable" style="color:hsl(5, 65%, 75%)">--platform</span><span class="token plain"> x86_64-linux </span><span class="token parameter variable" style="color:hsl(5, 65%, 75%)">--build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-platforms">Supported Platforms<a href="#supported-platforms" class="hash-link" aria-label="Direct link to Supported Platforms" title="Direct link to Supported Platforms">​</a></h3>
<p>rb-sys supports many platforms, including:</p>
<ul>
<li>x86_64-linux (Linux on Intel/AMD 64-bit)</li>
<li>x86_64-linux-musl (Static Linux builds)</li>
<li>aarch64-linux (Linux on ARM64)</li>
<li>x86_64-darwin (macOS on Intel)</li>
<li>arm64-darwin (macOS on Apple Silicon)</li>
<li>x64-mingw-ucrt (Windows 64-bit UCRT)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cicd-with-oxidize-rbactions">CI/CD with oxidize-rb/actions<a href="#cicd-with-oxidize-rbactions" class="hash-link" aria-label="Direct link to CI/CD with oxidize-rb/actions" title="Direct link to CI/CD with oxidize-rb/actions">​</a></h2>
<p>The <a href="https://github.com/oxidize-rb/actions" target="_blank" rel="noopener noreferrer">oxidize-rb/actions</a> repository provides GitHub Actions specifically designed
for rb-sys projects:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-ruby-and-rust">setup-ruby-and-rust<a href="#setup-ruby-and-rust" class="hash-link" aria-label="Direct link to setup-ruby-and-rust" title="Direct link to setup-ruby-and-rust">​</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic"># .github/workflows/ci.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">jobs</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">test</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">runs-on</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">{</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">{</span><span class="token plain"> matrix.os </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">}</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">strategy</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">matrix</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">os</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">[</span><span class="token plain">ubuntu</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain">latest</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">,</span><span class="token plain"> macos</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain">latest</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">ruby</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">[</span><span class="token number" style="color:hsl(5, 65%, 75%)">3.0</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(5, 65%, 75%)">3.1</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(5, 65%, 75%)">3.2</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(5, 65%, 75%)">3.3</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">steps</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">uses</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> actions/checkout@v4</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">uses</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> oxidize</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain">rb/actions/setup</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain">ruby</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain">and</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain">rust@v1</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">with</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">ruby-version</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">{</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">{</span><span class="token plain"> matrix.ruby </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">}</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">bundler-cache</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(5, 65%, 75%)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">cargo-cache</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(5, 65%, 75%)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">name</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> Compile</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">run</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> bundle exec rake compile</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">name</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> Test</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">run</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> bundle exec rake test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cross-gem">cross-gem<a href="#cross-gem" class="hash-link" aria-label="Direct link to cross-gem" title="Direct link to cross-gem">​</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:hsl(35, 15%, 88%);--prism-background-color:hsl(220, 18%, 10%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:hsl(35, 15%, 88%);background-color:hsl(220, 18%, 10%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token comment" style="color:hsl(220, 10%, 50%);font-style:italic"># .github/workflows/cross-gem.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">jobs</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">cross_gems</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">runs-on</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">strategy</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">matrix</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">platform</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">[</span><span class="token string" style="color:hsl(28, 60%, 70%)">&quot;x86_64-linux&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(28, 60%, 70%)">&quot;x86_64-darwin&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(28, 60%, 70%)">&quot;arm64-darwin&quot;</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">steps</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">uses</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> actions/checkout@v4</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">uses</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> ruby/setup</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain">ruby@v1</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">with</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">ruby-version</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(28, 60%, 70%)">&quot;3.3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">uses</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> oxidize</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain">rb/actions/cross</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">-</span><span class="token plain">gem@v1</span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">with</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(35, 15%, 88%)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(200, 85%, 70%)">platform</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">{</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">{</span><span class="token plain"> matrix.platform </span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">}</span><span class="token punctuation" style="color:hsl(220, 10%, 65%)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For a complete CI/CD setup, combine these actions to test your extension on multiple Ruby versions and platforms, then
cross-compile for release.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps">​</a></h2>
<ul>
<li>Explore <a href="/docs/cross-platform">Cross-Platform Development</a> to learn about cross-compilation.</li>
<li>Learn <a href="/docs/debugging">Debugging</a> techniques to troubleshoot build failures.</li>
<li>See <a href="/docs/testing">Testing Extensions</a> for CI/CD testing strategies.</li>
<li>Dive into <a href="/docs/project-setup">Project Setup</a> for organizing your gem&#x27;s structure.</li>
</ul></div></article></div></div></div></div></main></div></div></main></div><footer class="footer"><div class="footer__container"><div class="footer__links"><div class="col"><div class="footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li></ul></div></div><div class="col"><div class="footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/oxidize-rb/shared_invite/zt-16zv5tqte-Vi7WfzxCesdo2TqF_RYBCw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_gvfU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/oxidize-rb/rb-sys/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_gvfU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="col"><div class="footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/oxidize-rb/rb-sys" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_gvfU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="col"><div class="footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"></ul></div></div></div><div class="footer__copyright">Copyright © 2025 rb-sys</div></div></footer></div>
</body>
</html>